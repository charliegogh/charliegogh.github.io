<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM | charlie</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.6114eb0d.css" as="style"><link rel="preload" href="/assets/js/app.a81ebf70.js" as="script"><link rel="preload" href="/assets/js/2.a86293ef.js" as="script"><link rel="preload" href="/assets/js/13.f60f4562.js" as="script"><link rel="prefetch" href="/assets/js/10.7e0716f1.js"><link rel="prefetch" href="/assets/js/11.2dbc4d21.js"><link rel="prefetch" href="/assets/js/12.8db0f9d6.js"><link rel="prefetch" href="/assets/js/14.7ee73d14.js"><link rel="prefetch" href="/assets/js/15.b865e41c.js"><link rel="prefetch" href="/assets/js/16.97a505ca.js"><link rel="prefetch" href="/assets/js/17.0a36126a.js"><link rel="prefetch" href="/assets/js/18.79c95669.js"><link rel="prefetch" href="/assets/js/19.dc4b3739.js"><link rel="prefetch" href="/assets/js/20.486719fe.js"><link rel="prefetch" href="/assets/js/21.743ba5b4.js"><link rel="prefetch" href="/assets/js/22.37c50af2.js"><link rel="prefetch" href="/assets/js/23.1af6cf4a.js"><link rel="prefetch" href="/assets/js/24.6f8ce5ac.js"><link rel="prefetch" href="/assets/js/25.26b69ff3.js"><link rel="prefetch" href="/assets/js/26.890bf1fb.js"><link rel="prefetch" href="/assets/js/27.ae72e738.js"><link rel="prefetch" href="/assets/js/28.15d3d9af.js"><link rel="prefetch" href="/assets/js/29.61d57ec9.js"><link rel="prefetch" href="/assets/js/3.892571b0.js"><link rel="prefetch" href="/assets/js/30.e2bccf1e.js"><link rel="prefetch" href="/assets/js/31.82223d14.js"><link rel="prefetch" href="/assets/js/32.74cdc032.js"><link rel="prefetch" href="/assets/js/33.bb97f9e1.js"><link rel="prefetch" href="/assets/js/34.5be35666.js"><link rel="prefetch" href="/assets/js/35.509aba5e.js"><link rel="prefetch" href="/assets/js/36.e2bc7f1d.js"><link rel="prefetch" href="/assets/js/37.ebf62d40.js"><link rel="prefetch" href="/assets/js/38.03b737f1.js"><link rel="prefetch" href="/assets/js/4.3b5055dc.js"><link rel="prefetch" href="/assets/js/5.06bc53e0.js"><link rel="prefetch" href="/assets/js/6.cc8f0fc7.js"><link rel="prefetch" href="/assets/js/7.1e491708.js"><link rel="prefetch" href="/assets/js/8.467a62c9.js"><link rel="prefetch" href="/assets/js/9.83dda3eb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6114eb0d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">charlie</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES 6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Http</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Js</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/BOM.html" class="sidebar-link">BOM</a></li><li><a href="/js/this.html" class="sidebar-link">js中的this</a></li><li><a href="/js/变量提升和函数提升.html" class="sidebar-link">变量提升和函数提升</a></li><li><a href="/js/数据.html" class="sidebar-link">数据</a></li><li><a href="/js/闭包.html" class="sidebar-link">js中的闭包</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>DOM</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/DOM/DOM IDL.html" class="sidebar-link">interface description language</a></li><li><a href="/js/DOM/DOM事件.html" class="sidebar-link">两种绑定方式</a></li><li><a href="/js/DOM/DOM细节.html" class="active sidebar-link">DOM</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/js/DOM/DOM规范.html" class="sidebar-link">Welcome to use MarkDown</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>常用方法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>表单处理</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>兼容</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>存储</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>建站</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器滚动</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>编码规范</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="dom"><a href="#dom" class="header-anchor">#</a> DOM</h3> <pre><code>1. 节点及其类型:
	1). 元素节点
	2). 属性节点: 元素的属性, 可以直接通过属性的方式来操作. 
	3). 文本节点: 是元素节点的子节点, 其内容为文本. 
	4).	documnet
	
2. 在 html 文档的什么位置编写 js 代码?
	
	0). 直接在 html 页面中书写代码.
		&lt;button id=&quot;button&quot; onclick=&quot;alert('hello world');&quot;&gt;Click Me!&lt;/button&gt;
		缺点: 
			①. js 和 html 强耦合, 不利用代码的维护
			②. 若 click 相应函数是比较复杂的, 则需要先定义一个函数, 然后再在 onclick 属性中完成对函数的引用, 比较麻烦

	1). 一般地, 不能在 body 节点之前来直接获取 body 内的节点, 因为此时 html 文档树还没有加载完成, 
	    获取不到指定的节点:
	
	&lt;head&gt;
		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
		&lt;title&gt;Untitled Document&lt;/title&gt;
		&lt;script type=&quot;text/javascript&quot;&gt;
			var cityNode = document.getElementById(&quot;city&quot;);
			//打印结果为 null.
			alert(cityNode);
		&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
	......
	
	2). 可以在整个 html 文档的最后编写类似代码, 但这不符合习惯
	
	3). 一般地, 在 body 节点之前编写 js 代码, 但需要利用 window.onload 事件,　
	    该事件在当前文档完全加载之后被触发, 所以其中的代码可以获取到当前文档的任何节点.
	    
	    &lt;head&gt;
			&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
			&lt;title&gt;Untitled Document&lt;/title&gt;
			&lt;script type=&quot;text/javascript&quot;&gt;
				window.onload = function(){
					var cityNode = document.getElementById(&quot;city&quot;);
					alert(cityNode);
				};
			&lt;/script&gt;
		&lt;/head&gt;
		&lt;body&gt;
		......

3. 如何来获取元素节点:

	1). **document.getElementById: 根据 id 属性获取对应的单个节点

	2). **document.getElementsByTagName: 
			根据标签名获取指定节点名字的数组, 数组对象 length 属性可以获取数组的长度

	3). document.getElementsByName: 
		根据节点的 name 属性获取符合条件的节点数组, 
		但 ie 的实现方式和 W3C 标准有差别: 
		在 html 文档中若某节点(li)没有 name 属性,　
		则 ie 使用 getElementsByName 不能获取到节点数组, 但火狐可以. 

	4). 其它的两个方法,　ie 根本就不支持, 所以不建议使用  
		document.getElementsByClassName();
		document.getElementsByTagNameNS();
	
4. 获取属性节点:
	1). **可以直接通过 cityNode.id 这样的方式来获取和设置属性节点的值
	
	2). **可以直接通过getAttribute/setAttribute/removeAttribute
				 这样的方式来获取和设置属性节点的值

	3). 通过元素节点的 getAttributeNode 方法来获取属性节点,
	         然后在通过 nodeValue 来读写属性值 
	
5. 获取元素节点的子节点(**只有元素节点才有子节点!!):
	1). childNodes 属性获取全部的子节点, 但该方法不实用. 因为如果要获取指定的节点
	的指定子节点的集合, 可以直接调用元素节点的 getElementsByTagName() 方法来获取. 
	2). firstChild 属性获取第一个子节点
	3). lastChild  属性获取最后一个子节点	
	
	
		获取指定节点的所有子节点.一共有三种方式:
				childNodes属性:
						不实用,会取到文本节点
					children属性: 
						实用,会剔除文本节点
				用该指定节点的getElementsByTagName方法(注意不是document):	
						不实用,虽然会剔除文本节点,但只能取一组相同tagNaem的子节点,无法取全
												
			使用firstChild,lastChild来取一个指定元素节点的第一个和最后一个子节点时
						1.会受到文本子节点的影响
						2.我们通常可以使用firstChild的nodeValue属性来获取文本值(当子节点只有文本节点时)
			
	
6. 获取文本节点:
	1). 步骤: 元素节点 --&gt; 获取元素节点的子节点
	2). 若元素节点只有文本节点一个子节点, 
	例如 &lt;li id=&quot;bj&quot; name=&quot;BeiJing&quot;&gt;北京&lt;/li&gt;, &lt;p&gt;你喜欢哪个城市?&lt;/p&gt;, 
	可以先获取到指定的元素节点 eleNode, 
	然后利用 eleNode.firstChild.nodeValue 的方法来读写其文本节点的值		



7. 节点的属性:
	1). nodeName: 代表当前节点的名字. 只读属性. 
	**如果给定节点是一个文本节点, nodeName 属性将返回内容为 #text 的字符串
	2). nodeType：返回一个整数, 这个数值代表着给定节点的类型. 
	只读属性. 1 -- 元素节点, 2 -- 属性节点, 3 -- 文本节点
    3). nodeValue：返回给定节点的当前值(字符串). 可读写的属性
		①. 元素节点, 返回值是 null.
		②. 属性节点: 返回值是这个属性的值
		③. 文本节点: 返回值是这个文本节点的内容	
		
	    
8. 创建一个元素节点:
	1). createElement(): 按照给定的标签名创建一个新的元素节点. 方法只有一个参数：被创建的元素节点的名字, 是一个字符串.
	                     方法的返回值：是一个指向新建节点的引用指针. 返回值是一个元素节点, 所以它的 nodeType 属性值等于 1.
                           **新元素节点不会自动添加到文档里, 它只是一个存在于 JavaScript 上下文的对象.
                         
9. 创建一个文本节点:
	1). createTextNode(): 创建一个包含着给定文本的新文本节点. 这个方法的返回值是一个指向新建文本节点引用指针. 它是一个文本节点, 所以它的 nodeType 属性等于 3.
	                         方法只有一个参数：新建文本节点所包含的文本字符串. 新元素节点不会自动添加到文档里
	                         
10. 为元素节点添加子节点:
	1). appendChild(): var reference = element.appendChild(newChild): 给定子节点 newChild 将成为给定元素节点 element 的最后一个子节点.
	                      方法的返回值是一个指向新增子节点的引用指针.		    
	                      
11. 节点的替换:
	1). replaceChild(): 把一个给定父元素里的一个子节点替换为另外一个子节点
			var reference = element.replaceChild(newChild,oldChild);
			返回值是一个指向已被替换的那个子节点的引用指针
	2). 该节点除了替换功能以外还有移动的功能.  
	3). 该方法只能完成单向替换, 若需要使用双向替换, 需要自定义函数:
	/**
	 * 互换 aNode 和 bNode
	 * @param {Object} aNode
	 * @param {Object} bNode
	 */
	function replaceEach(aNode, bNode){
		
		if(aNode == bNode){
			return;
		}
		
		var aParentNode = aNode.parentNode;
		//若 aNode 有父节点
		if(aParentNode){
			var bParentNode = bNode.parentNode;
			
			//若 bNode 有父节点	
			if(bParentNode){
				var tempNode = aNode.cloneNode(true);
				bParentNode.replaceChild(tempNode, bNode);
				aParentNode.replaceChild(bNode, aNode);	
			}
		}

	}   
	
12. 插入节点:
	1). insertBefore(): 把一个给定节点插入到一个给定元素节点的给定子节点的前面
  			var reference =  element.insertBefore(newNode,targetNode);
         节点 newNode 将被插入到元素节点 element 中并出现在节点 targetNode 的前面. 节点 targetNode 必须是 element 元素的一个子节点。	 

    2). 自定义 insertAfter() 方法     
       /**
	 * 将 newChild 插入到 refChild 的后边
	 * @param {Object} newChild
	 * @param {Object} refChild
	 */
	function insertAfter(newChild, refChild){
		var refParentNode = refChild.parentNode;
		
		//判断 refChild 是否存在父节点
		if(refParentNode){
			//判断 refChild 节点是否为其父节点的最后一个子节点
			if(refChild == refParentNode.lastChild){
				refParentNode.appendChild(newChild);
			}else{
				refParentNode.insertBefore(newChild, refChild.nextSibling);
			}	
		}
	}
    
    
13. 删除节点:
	1). removeChild(): 从一个给定元素里删除一个子节点
   			var reference = element.removeChild(node);
		返回值是一个指向已被删除的子节点的引用指针. 某个节点被 removeChild() 方法删除时, 这个节点所包含的所有子节点将同时被删除. 
		如果想删除某个节点, 但不知道它的父节点是哪一个, parentNode 属性可以帮忙。    
		
14. innerHTML属性:
	1). 浏览器几乎都支持该属性, 但不是 DOM 标准的组成部分. innerHTML 属性可以用来读, 写某给定元素里的 HTML 内容	
	
15. 其它属性, 参看 API: nsextSibling, 	previousSibling 等	           
</code></pre></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/js/DOM/DOM事件.html" class="prev">两种绑定方式</a></span> <span class="next"><a href="/js/DOM/DOM规范.html">Welcome to use MarkDown</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a81ebf70.js" defer></script><script src="/assets/js/2.a86293ef.js" defer></script><script src="/assets/js/13.f60f4562.js" defer></script>
  </body>
</html>
